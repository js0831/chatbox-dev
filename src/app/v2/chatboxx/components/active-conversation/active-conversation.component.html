<img
  *ngIf="selectedConversation.type === 'PERSONAL'" (click)="showMenu()"
  [src]="profilePicture[0]"
  alt="" onerror="this.src='./assets/images/avatar.svg'"
>

<div
  *ngIf="selectedConversation.type === 'GROUP'"
  (click)="showMenu()"
  class="members"
  [ngClass]="{'size-1': selectedConversation.members.length === 1}">

  <img
    *ngFor="let m of selectedConversation.members.slice(0, 4);let i = index"
    [src]="profilePicture[i]"
    alt="" class="avatar"
    onerror="this.src='./assets/images/avatar.svg'">
</div>

<div class="pm" *ngIf="selectedConversation.type === 'PERSONAL'">
    <h1 class="title">{{friend?.firstname}} {{friend?.lastname}}</h1>
    <label [ngClass]="{'online': isOnline(friend._id)}">
      {{isOnline(friend._id) ? 'Online' : 'Offline'}}
    </label>
</div>
<div class="group" *ngIf="selectedConversation.type === 'GROUP'">
  <div #groupName (blur)="updateName()" [attr.contenteditable]="isAdmin" class="title">
      {{selectedConversation.name}}
  </div>
  <label (click)="showMembers()">
    <svg>
        <use xlink:href="assets/images/icons.svg#icon-grouppeople"></use>
    </svg>
    {{selectedConversation.members.length}} member{{selectedConversation.members.length > 1 ? 's' :''}}
  </label>
</div>

<button (blur)="hideActions()" (click)="showActions = true">
    <svg>
        <use xlink:href="assets/images/icons.svg#icon-more_vert"></use>
    </svg>

    <ul *ngIf="showActions">
        <li
            (click)="doAction(a)"
            *ngFor="let a of actions[selectedConversation.type]">

            <svg>
                <use [attr.xlink:href]="'assets/images/icons.svg#icon-' + a.icon"></use>
            </svg>

            {{a.label}}
        </li>
    </ul>
</button>
